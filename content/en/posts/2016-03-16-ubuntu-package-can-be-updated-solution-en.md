---
title:     "Solution to X packages can be updated in Ubuntu"
date:      "2016-03-16 16:40:11"
zhUrl:     /ubuntu-package-can-be-updated-solution
aliases:
  - /ubuntu-package-can-be-updated-solution-en
---

A trick in Ubuntu.

<!--more-->


## x package can be updated

Recently I get this message when log into the system.

```
    x packages can be updated.
    y updates are security updates.
```

Ummm, the "You have X app to update" hint.
It should be done with this command I think:

```
    apt-get update
    apt-get upgrade
```

But seems this update&&upgrade command does nothing:

```
    x packages can be updated.
    y updates are security updates.
```

[After I google][dist-upgrade],
I get to know that `update` + `upgrade` can't do the whole upgrade.
We need one more command:

```
    apt-get dist-upgrade
```

So we can get rid of this little annoying hint.


## MOTD

When log in, this Ubuntu message is named
[MOTD(Message of the day)][motd].
Many company SA would customize their server's MOTD.

MOTD scripts are put under `/etc/update-motd.d` by default in Ubuntu.
The `x packages can be updated` message was generated by
the script `/etc/update-motd.d/90-updates-available`.

So if you want to totally remove the 'update packages' message,
you can delete the file `/etc/update-motd.d/90-updates-available`.
(Not recommended.)

We can also customize our MOTD.
(By putting shell scripts under `/etc/update-motd.d`)

## Conclusion

1. Update all packages command in Ubuntu is `aptget update && apt-get upgrade && apt-get dist-upgrade`.

2. We have [MOTD][motd] for displaying message when log in, which is put under `/etc/update-motd.d`.

[dist-upgrade]: http://ubuntuforums.org/showthread.php?t=1222909
[motd]: https://en.wikipedia.org/wiki/Motd_(Unix)
